angular.module("uiFormat",[]);
angular.module("uiFormat").directive("uiFormatCep",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatCep=function(cep){return void 0===cep&&(cep=""),(cep=cep.replace(/[^0-9]+/g,"")).length>5&&(cep=cep.substring(0,5)+"-"+cep.substring(5,8)),cep};element.bind("keyup",function(){ctrl.$setViewValue(_formatCep(ctrl.$viewValue)),ctrl.$render()}),ctrl.$parsers.push(function(value){if(value.length>=9)return value}),ctrl.$formatters.push(function(value){return _formatCep(value)})}}});
angular.module("uiFormat").directive("uiFormatCnpj",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatCnpj=function(cnpj){return void 0===cnpj&&(cnpj=""),(cnpj=cnpj.replace(/[^0-9]+/g,"")).length>2&&(cnpj=cnpj.substring(0,2)+"."+cnpj.substring(2)),cnpj.length>6&&(cnpj=cnpj.substring(0,6)+"."+cnpj.substring(6)),cnpj.length>10&&(cnpj=cnpj.substring(0,10)+"/"+cnpj.substring(10)),cnpj.length>15&&(cnpj=cnpj.substring(0,15)+"-"+cnpj.substring(15,17)),cnpj};element.bind("keyup",function(){ctrl.$setViewValue(_formatCnpj(ctrl.$viewValue)),ctrl.$render()}),ctrl.$parsers.push(function(value){if(value.length>=17)return value}),ctrl.$formatters.push(function(value){return _formatCnpj(value)})}}});
angular.module("uiFormat").directive("uiFormatCpf",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatCpf=function(cpf){return void 0===cpf&&(cpf=""),(cpf=cpf.replace(/[^0-9]+/g,"")).length>3&&(cpf=cpf.substring(0,3)+"."+cpf.substring(3)),cpf.length>7&&(cpf=cpf.substring(0,7)+"."+cpf.substring(7)),cpf.length>11&&(cpf=cpf.substring(0,11)+"-"+cpf.substring(11,13)),cpf};element.bind("keyup",function(){ctrl.$setViewValue(_formatCpf(ctrl.$viewValue)),ctrl.$render()}),ctrl.$parsers.push(function(value){if(value.length>=14)return value}),ctrl.$formatters.push(function(value){return _formatCpf(value)})}}});
angular.module("uiFormat").directive("uiDatebr",function($filter){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatDate=function(date){return date?((date=date.replace(/[^0-9]+/g,"")).length>2&&(date=date.substring(0,2)+"/"+date.substring(2)),date.length>5&&(date=date.substring(0,5)+"/"+date.substring(5,9)),date):date};element.bind("keyup",function(){ctrl.$setViewValue(_formatDate(ctrl.$viewValue)),ctrl.$render()}),ctrl.$parsers.push(function(value){if(10===value.length){var arrayData=value.split(" ")[0].split("/"),dia=arrayData[0],mes=arrayData[1];return arrayData[2]+"-"+mes+"-"+dia}}),ctrl.$formatters.push(function(value){return $filter("dateBr")(value)})}}});
angular.module("uiFormat").directive("uiFormatOs",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatOs=function(os){void 0===os&&(os="");var mil=os.indexOf("*");return(os=os.replace(/[^0-9]+/g,"")).length>3&&(os=os.substring(0,3)+"-"+os.substring(3)),os.length>9&&(os=os.substring(0,9)+"-"+os.substring(9)),os.length>10&&mil>-1&&(os=(os=(os=(os=os.replace("-","")).replace("-","")).substring(0,4)+"-"+os.substring(4)).substring(0,10)+"-"+os.substring(10,14)),os};element.bind("keyup",function(){os=ctrl.$viewValue,os=_formatOs(os),ctrl.$setViewValue(os),ctrl.$render()})}}});
angular.module("uiFormat").directive("uiFormatSite",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatSite=function(site){return 0===(site=site.replace("http://","")).length||/(https?):\/\//g.test(site)||(site="http://"+site),site};element.bind("keyup",function(){ctrl.$setViewValue(_formatSite(ctrl.$viewValue)),ctrl.$render()})}}});
angular.module("uiFormat").directive("uiFormatTel",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatTel=function(tel){return void 0===tel&&(tel=""),(tel=tel.replace(/[^0-9]+/g,"")).length>1&&(tel="("+tel),tel.length>3&&(tel=tel.substring(0,3)+")"+tel.substring(3)),tel.length>8&&(tel=tel.substring(0,8)+"-"+tel.substring(8)),tel.length>13&&(tel=(tel=tel.replace("-","")).substring(0,9)+"-"+tel.substring(9,13)),tel};element.bind("keyup",function(){telefones=ctrl.$viewValue.split("/"),telefones=telefones.map(function(tel){return _formatTel(tel)}),ctrl.$setViewValue(telefones.join(" / ")),ctrl.$render()})}}});
angular.module("uiFormat").directive("uiTimestampbr",function($filter){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatTimestamp=function(date){return date?((date=date.replace(/[^0-9]+/g,"")).length>2&&(date=date.substring(0,2)+"/"+date.substring(2)),date.length>5&&(date=date.substring(0,5)+"/"+date.substring(5)),date.length>10&&(date=date.substring(0,10)+" "+date.substring(10)),date.length>13&&(date=date.substring(0,13)+":"+date.substring(13)),date.length>16&&(date=date.substring(0,16)+":"+date.substring(16,18)),date):date};element.bind("keyup",function(){ctrl.$setViewValue(_formatTimestamp(ctrl.$viewValue)),ctrl.$render()}),ctrl.$parsers.push(function(value){if(19===value.length){var dataHora=value.split(" "),data=dataHora[0],hora=dataHora[1],arrayData=data.split("/"),dia=arrayData[0],mes=arrayData[1];return arrayData[2]+"-"+mes+"-"+dia+" "+hora}}),ctrl.$formatters.push(function(value){return $filter("timestampBr")(value)})}}});
angular.module("uiFormat").directive("uiFormatValue",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var _formatNumber=function(number){if(void 0===number&&(number=""),(number=number.replace(/[^0-9]+/g,"")).length>1&&(number=number.substring(0,1)+","+number.substring(1)),number.length>3){var length=(number=number.replace(/[^0-9]+/g,"")).length-2;number=number.substring(0,length)+","+number.substring(length)}return number};ctrl.$formatters.push(function(value){return _formatNumber(value)}),element.bind("keyup",function(){ctrl.$setViewValue(_formatNumber(ctrl.$viewValue)),ctrl.$render()})}}});